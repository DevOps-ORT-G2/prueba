# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger: none
#- master

resources:
- repo: self

variables:
  tag: '$(Build.BuildId)'

pool:
  vmImage: ubuntu-latest

# buildiar la imagen

steps:
- checkout: self
  persistCredentials: true


#- script: | 
#    git config --global user.email "diegodlrh@hotmail.com"
#    git config --global user.name "diegodlrh"

#    echo "hello world" > guardando.txt
#    cat guardando.txt
  
#    git add .
#    git commit -m "add guardando.txt"
#    git push origin HEAD:master 

  #env:
  #  SYSTEM_ACCESSTOKEN: $(System.AccessToken)


- script: | 
    #git remote set-url origin https://github.com/DevOps-ORT-G2/prueba.git
    #git clone https://github.com/DevOps-ORT-G2/prueba.git 
    git clone -b master https://github.com/DevOps-ORT-G2/products-service.git ms-products
    cd ms-products
    git config --global user.email "diegodlrh@hotmail.com"
    git config --global user.name "diegodlrh"

    echo "hello world" >> guardando.txt
    cat guardando.txt
  
    git add .
    git commit -m "add guardando.txt"
    git push origin master 